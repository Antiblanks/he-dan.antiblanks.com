---
layout: default
---

{% assign posts_category = site.categories[page.posts_category] %}
{% assign posts_tag = site.tags[page.posts_tag] %}

{% if page.posts_category and page.posts_tag %}
  {% assign show_by_category_and_tag = true %}
{% elsif page.posts_category %}
  {% assign show_by_category = true %}
{% endif %}

<div class="posts">
  {% if show_by_category_and_tag %}
    <h1 class="page-heading">Posts in '{{ page.posts_category }}' with tag '{{ page.posts_tag }}'</h1>
  {% elsif show_by_category %}
    <h1 class="page-heading">Posts in '{{ page.posts_category }}'</h1>
  {% endif %}

  {% if show_by_category_and_tag %}
    <ul class="post-list">
      {% for post in site.posts %}
        {% if post.categories contains page.posts_category and post.tags contains page.posts_tag %}
          {% include post-teaser.html post=post %}
        {% endif %}
      {% endfor %}
    </ul>
  {% elsif show_by_category %}
    <ul class="post-list">
      {% for post in site.posts %}
        {% if post.categories contains page.posts_category %}
          {% include post-teaser.html post=post %}
        {% endif %}
      {% endfor %}
    </ul>
  {% endif %}
</div>
